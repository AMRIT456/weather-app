<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/main.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>My Weather App</title>
</head>
<body>
    <%
       const dayNames = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
       const date=new Date();
       const year=date.getFullYear();
       const month=date.getMonth();
       const newdate=date.getDate();

       const day=dayNames[date.getDay()];
       const hours=date.getHours();
       const mini=date.getMinutes();
       const sec=date.getSeconds();
       
    %>
    <div class="container-fluid px-1 px-sm-3 py-5 mx-auto">
        <% if(locals.weather && locals.location){%>
        <div class="row d-flex justify-content-center">
            <div class="row card0">
                <div class="card1 col-lg-8 col-md-7">
                    <small>My Weather App</small>
                    <div class="text-center">
                        <img class="image mt-5" src="https://i.imgur.com/M8VyA2h.png">
                    </div>
                    <div class="row px-3 mt-3 mb-3">
                        <h1 class="large-font mr-3"><%=weather.temperature%>&#176;C </h1>
                        <div class="d-flex flex-column mr-3">
                            <h2 class="mt-3 mb-0"><%=location.name%>,</h2>
                            <h2 class="mt-3 mb-0"><%=location.country%></h2>
                            <small><%=hours%>:<%=mini%>:<%=sec%> - <%=day%>, <%=newdate%> - <%=month%> - <%=year%></small>
                        </div>
                        <div class="d-flex flex-column text-center">
                            
                            <img src=<%=weather.weather_icons[0];%> id="imgicon" alt="weather icon">
                            <small><%=weather.weather_descriptions[0]%></small>
                        </div>
                    </div>
                </div>
                <div class="card2 col-lg-4 col-md-5">
                    <form action="/all" method="post">
                        <div class="row px-3">
                            <input type="text" name="city" placeholder="Another City" class="mb-5">
                            <button type="submit" class="fa fa-search mb-5 mr-0 text-center"></button>
                        </div>
                    </form>
                    
                    
                    <div class="mr-5">
                        <p>Weather Details</p>
                        <div class="row px-3">
                            <p class="light-text"><%=weather.weather_descriptions[0]%></p>
                            <p class="ml-auto"><%=weather.cloudcover%> %</p>
                        </div>
                        <div class="row px-3">
                            <p class="light-text">Humidity</p>
                            <p class="ml-auto"><%=weather.humidity%> %</p>
                        </div>
                        <div class="row px-3">
                            <p class="light-text">Wind</p>
                            <p class="ml-auto"><%=weather.wind_speed%> km/h</p>
                        </div>
                        <div class="row px-3">
                            <p class="light-text">Rain</p>
                            <p class="ml-auto"><%=weather.precip%> mm</p>
                        </div>
                        <div class="row px-3">
                            <p class="light-text">Wind Direction</p>
                            <p class="ml-auto"><%=weather.wind_degree%>&#176; <%=weather.wind_dir%></p>
                        </div>
                        <div class="row px-3">
                            <p class="light-text">Pressure</p>
                            <p class="ml-auto"><%=weather.pressure%> Pa</p>
                        </div>
                        <div class="row px-3">
                            <p class="light-text">Feelslike</p>
                            <p class="ml-auto"><%=weather.feelslike%>&#176;C</p>
                        </div>
                        <div class="row px-3">
                            <p class="light-text">UV Index</p>
                            <p class="ml-auto"><%=weather.uv_index%> mmW/sq.m</p>
                        </div>
                        <div class="row px-3">
                            <p class="light-text">Visibility</p>
                            <p class="ml-auto"><%=weather.visibility%> m</p>
                        </div>
        
                        <div class="line mt-3"></div>
                    </div>
                </div>
            </div>
        </div>
        <%} %>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js"></script>
</body>
</html>